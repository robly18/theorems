\documentclass{article}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}

\usepackage{enumerate}

\title{On sublimits, limit superior, and limit inferior}
\author{}
\date{}

\newcommand{\R}{\mathbb{R}}
\newcommand{\CR}{\overline\R}
\newcommand{\N}{\mathbb{N}}

\DeclareMathOperator{\sgn}{sgn}

\newtheorem{prop}{Prop}

\theoremstyle{definition}
\newtheorem{definition}{Def}

\begin{document}
	\maketitle
	
	\tableofcontents

	\section{The closed number line}
	
	In this document, $\R$ stands for the real line $\left]-\infty, \infty\right[$ and $\CR$ stands for the closed real line $[-\infty, \infty]$.
	
	We remind ourselves of the axiom of the least upper bound property in $\R$:
	
	\textbf{Least Upper Bound Property:} Any nonempty set $X \subseteq \R$ with a real upper bound has a least upper bound, denoted $\sup X$.
	
	This property can easily be extended to the closed real line in a rather nicer way:
	
	\textbf{Least Upper Bound Property (in $\CR$):} Any set $X \subseteq \CR$ has a least upper bound, denoted $\sup X$.
	
	We now conclude the latter principle from the former:
	
	\begin{proof}
	Let $X \subseteq \CR$.
	
	If $\infty \in X$, the least (and in fact, the only) upper bound is precisely $\infty$.
	
	If $\infty \not \in X$, let $Y = X \cap \R$. If $Y$ is empty, then $X$ is either empty or $\{-\infty\}$; in both cases any element of $\CR$ is an upper bound, and the smallest of these is precisely $-\infty$.
	
	If $Y$ is not empty, it either has a real upper bound or it does not. If not, since $\infty$ is an upper bound and there are no real upper bounds, $\infty$ is the least upper bound.
	
	If, on the other hand, it does have a real upper bound, we are in the conditions of the least upper bound property for $\R$, and thus, $Y$ has a least (real) upper bound $M$ in $\R$. Notice this is still least in the context of $\CR$, since $-\infty$ is not an upper bound (because $Y$ is nonempty) and, while $\infty$ is an upper bound, it is larger than $M$, hence we conclude $M$ is still, in this context, the least upper bound of $Y$, and ergo of $X$.
	
	Thus, we showed that, in every case, there exists a least upper bound for $X$.
	\end{proof}
	
	Notice that, as shown in the proof, if we are in the conditions of the real LUBP, then the suprema obtained in $\R$ and in $\CR$ are the same, and thus there is no ambiguity in saying $\sup X$.
	
	We use $\inf X$ to denote the greatest lower bound, which, as one can easily show, always exists, equaling $- \sup(-X)$, where $-X$ denotes $\{\, -x \mid x \in X\,\}$.
	
	\section{Limits}
	
	\subsection{Neighbourhoods}
	
	We remind ourselves of the notion of \emph{neighbourhood of a real number}:
	
	Given a real number $a$ and a positive real $\varepsilon$, we define
	
	\[V_\varepsilon(a) := \{\, x \mid \left| x - a \right| < \varepsilon \,\}\]
	
	This definition does not make sense if we try to put $a = \pm \infty$, so in an effort to define neighbourhoods in the real closed number line we must define them for the infinities separately. As such, we define:
	
	\[V_\varepsilon(\infty) := \left] 1/\varepsilon, \infty \right]\]
	\[V_\varepsilon(-\infty) := \left[-\infty, -1/\varepsilon \right[\]
	
	The reason behind using $1/\varepsilon$ rather than $\varepsilon$ is simply so that we can assert that if we decrease the radius of the neighbourhood we also decrease the set, a property that is sometimes handy, albeit never strictly necessary.
	
	\subsection{Convergence}
	
	Given a sequence $a_n$ of numbers in $\CR$, we say it \emph{converges towards $L \in \CR$}, denoted $a_n \rightarrow L$ if:
	
	\[\forall_\varepsilon \exists_N \forall_{n \geq N} a_n \in V_\varepsilon(L)\]
	
	Where it is implied that $\varepsilon \in \R^+$ and $N \in \N$.
	
	\begin{prop}
	If $a_n$ converges towards $L$ and $L'$ then $L = L'$. That is: the limit, when it exists, is unique.
	\end{prop}
	
	\begin{proof}
	To do this, it is enough to show that if $L \neq L'$ then there exist $\varepsilon, \varepsilon'$ such that $V_\varepsilon(L)$ and $V_{\varepsilon'}(L')$ are disjoint. (We say that $\CR$ is a \emph{Hausdorff space})
	
	This is enough because we simply notice that, for such $\varepsilon$, by definition there exists $N$ such that for all $n \geq N$ we have that $a_n \in V_\varepsilon(L)$, and also there exists $N'$ such that for $n \geq N'$ we have $a_n \in V_{\varepsilon'}(L')$. Taking $p$ as the maximum of $N$ and $N'$, we have $a_p$ is in both $V_\varepsilon(L)$ and $V_{\varepsilon'}(L')$; an impossibility if these two are disjoint.
	
	So all we need to show now is that $\CR$ is Hausdorff. We do this on a case-by-case basis.
	
	If $L$ and $L'$ are both finite (i.e. in $\R$) let $\varepsilon = \varepsilon' = \frac{\left|L-L'\right|}2 > 0$. It is a simple application of the triangular inequality to show the respective neighbourhoods are disjoint.
	
	If $L$ is finite and $L'$ is $\infty$, pick a positive number $s$ greater than $L$. Put $\varepsilon = s - L$ and $\varepsilon' = 1/s$. The case where $L' = -\infty$ is completely analogous, and if $L$ is infinite and $L'$ is finite one simply swaps the letters to return to this case.
	
	Finally, if $L = -L' = \pm \infty$, $\varepsilon = \varepsilon' = 1$ works.
	\end{proof}
	
	We can then write, without ambiguity, $\lim a_n$ to denote the limit of the sequence $a_n$ when it exists.
	
	\subsection{Operations}
	
	One of the main disadvantages of working with $\CR$ instead of $\R$ is that the former is not a field: while we are used to adding, subtracting, and multiplying elements of $\R$ in very nice ways, infinity does not take kindly to being messed with in this manner. Indeed, there is no way to extend the operations $+$ and $\times$ on $\R$ to $\CR$ while staying in an ordered field.
	
	An important thing to notice is that the symbol $-\infty$ should not be taken in the same sense something like $-x$ should be: the latter stands for the additive inverse of a real number; the number $y$ such that $x+y = 0$. The former, on the other hand, is simply a symbol distinct from $\infty$.
	
	However, this distinction can be easily blurred once we try to define multiplication on $\CR$.
	
	To make life easier on ourselves, we will temporarily adopt the following formalism: instead of working with $\pm \infty$, we will work with ordered pairs $(\pm 1, \infty)$, where $(1, \infty)$ should be understood as $\infty$ and $(-1, \infty)$ as $-\infty$.
	
	For elements different from zero, we define the \emph{sign function}, $\sgn$, as
	
	\[\sgn x := \text{$1$ if $x > 0$, $-1$ if $x < 0$}\]
	
	We define multiplication of numbers in $\CR$ as follows: let $x, y \in \CR$.
	
	If both are real, their product is defined as their product as real numbers.
	
	We define, \emph{in this context}, $0 \times \infty$ to be $0$.
	
	And finally, if one of them is an infinity and the other is different from zero, we define $xy$ to be $(\sgn x \, \sgn y, \infty)$.
	
	One can easily check the following properties of this new multiplication on $\CR$:
	
	\begin{prop}
	The product as we just defined it on $\CR$ is such that, for all $x,y,z \in \CR$:
	
	\begin{enumerate}[i)]
	
	\item $xy = yx$
	
	\item $x(yz) = (xy)z$
	
	\item If $x \geq y$ and $z \geq 0$ then $xz \geq yz$
	
	\item However, it is possible that $x > y$ and $z > 0$, yet $xz \not > yz$
	
	\item If $x \geq y$ and $z \leq 0$ then $xz \leq yz$
	\end{enumerate}
	\end{prop}
	
	\begin{proof}
	This is left as an exercise.
	\end{proof}
	
	Under this notion of multiplication, one can settle the situation with minuses: if we take $-x$ to be an abbreviation for $(-1)x$, then the symbol $-\infty$ is the same as $-x$ for $x = \infty$.
	
	One can also check it (mostly) plays nice with limits.
	
	\begin{prop}
	If $a_n \rightarrow L$ and $c \in \R$, $c a_n \rightarrow c L$
	\end{prop}
	
	\begin{proof}
	If $c = 0$ this is trivial, so we assume $c \neq 0$.
	
	Pick some $\varepsilon$. We wish to find $N$ such that for $n \geq N$ we have $c a_n \in V_\varepsilon(cL)$.
	
	If $c > 0$, as the reader may easily check, $c a_n \in V_\varepsilon(cL)$ iff $a_n \in V_{\varepsilon/c}(L)$, which happens for all large enough $n$.

	If, on the other hand, $c < 0$, we have $c a_n \in V_\varepsilon(cL)$ iff $a_n \in V_{-\varepsilon/c}(L)$, which also happens for all large enough $n$.
	\end{proof}
	
	Notice that we excluded the case $c = \pm \infty$. It is instructive to find an example of a sequence $a_n$ converging to some number $L$, and some $c$ such that $c a_n$ does not converge to $cL$.
	
	A particular case which will be useful in the sequence:
	
	\begin{prop}
	If $a_n \rightarrow L$ then $-a_n \rightarrow -L$
	\end{prop}
	
	\subsection{Sublimits}
	
	Unfortunately, not every sequence converges (shocker). However, as we will soon show, given any sequence, we can find a subsequence of it that does converge.
	
	First, an easy consequence of the supremum axiom.
	
	\begin{prop}
	Any monotone sequence converges in $\CR$.
	
	In particular, if $a_n$ is increasing it converges to $\sup a_n$ and if it is decreasing it converges to $\inf a_n$.
	\end{prop}
	
	\begin{proof}
	We will do this proof only for an increasing sequence $a_n$; if $a_n$ is decreasing, simply consider the sequence $-a_n$, which shall converge to some limit $L$, implying $a_n$ will converge to $-L$.
	
	Let $L = \sup a_n$. If $L = -\infty$ then all $a_n$ must be $-\infty$, so in this case the proposition is trivially true.
	
	Suppose, then, $L \neq -\infty$. Fix any $\varepsilon > 0$. Let $s$ be an element of $V_\varepsilon(L)$ that is lesser than $L$. By definition of $\sup$, there exists some $a_N > s$. But then, since the sequence is increasing, and $L$ is greater than or equal to all $a_n$, we have that, for $n \geq N$, $a_n \in ]s, L] \subseteq V_\varepsilon(L)$, as we wished to show.
	\end{proof}
	
	Because of this, to show that any sequence has a converging subsequence it is enough to show it has a monotone one.
	
	\begin{prop}
	Any sequence has a monotone subsequence.
	\end{prop}
	
	\begin{proof}
	Let $a_n$ be a sequence, and let $S$ be the set of all $n$ such that $a_n$ is greater than or equal to all elements after it. In symbols:
	
	\[S = \{\,n \mid a_n \geq a_m \text{ for all $m > n$}\,\}\]
	
	Either $S$ is finite or infinite. If it is infinite, let $i_0 < i_1 < i_2 < \cdots$ be an infinitude of elements of $S$. Then, the sequence $a_{i_n}$ is decreasing, by definition of `element of $S$'.
	
	If, on the other hand, $S$ is finite, pick $i_0$ greater than all elements of $S$. Since $i_0$ is not in $S$, there exists $i_1 > i_0$ such that $a_{i_0} < a_{i_1}$. Likewise, there exists $i_2 > i_1$ such that $a_{i_1} < a_{i_2}$, and so on and so forth. Collecting an infinitude of such $i_n$, the sequence $a_{i_n}$ is increasing.
	\end{proof}
	
	This allows us to conclude
	
	\begin{prop}
	Any sequence has a converging subsequence.
	\end{prop}

	\section{Sublimits}
	
	We proceed to investigate the concept of sublimit in more detail.
	
	Given a sequence $a_n$, denote the set of its sublimits by $S_a$. We know by the previous proposition that $S_a \neq \varnothing$.
	
	A more or less natural question is the following: does this set have a maximum? Is there a single greatest sublimit?
	
	The answer, somewhat surprisingly, is yes. But to answer this question, we will delve a little bit into topology.
	
	\subsection{Topology}
	
	We will say a set $X \subseteq \CR$ is \emph{open} if for all $x \in X$ there exists an $\varepsilon$-neighbourhood of $x$ contained in $X$. In symbols:
	
	\[\forall_{x \in X} \exists_\varepsilon V_\varepsilon(x) \subseteq X \]
	
	We say a set $X$ is \emph{closed} if its complement, $X^c$, is open.
	
	The reader may easily check that, for all $\varepsilon \in \R^+$, $x \in \CR$, we have $V_\varepsilon(x)$ is open.
	
	Closed sets have the nice property of always (if not empty) having extrema, as we proceed to show:
	
	\begin{prop}
	If $X \neq \varnothing$ is closed, it has a maximum and a minimum.
	\end{prop}
	
	\begin{proof}
	We show only the existence of a maximum; the existence of a minimum is done much similarly, with $\inf$ instead of $\sup$ and a few signal swaps.
	
	Let $s = \sup X$. We wish to show $s$ is an element of $X$. If we do, we will have shown $s$ is an element of $X$ greater than all others, i.e. the maximum of $X$.
	
	If $s = -\infty$, then $s \in X$, as $X$ contains at least one element, which must be $\leq -\infty$, and thus must be $-\infty$ itself, showing $s \in X$.
	
	Suppose, then, $s > -\infty$. Since $X$ is closed, if $s$ were not in $X$, there would be an $\varepsilon$-neighbourhood of $s$ disjoint from $X$. But then, we could pick an element of said neighbourhood lesser than $s$, which would also be an upper bound of $X$. This contradicts the definition of $s$ as the least upper bound of $X$, which means $s$ must be in $X$, as we wished to show.
	\end{proof}
	
	As such, to show there is a `biggest sublimit' it is enough to show the set of sublimits is closed.
	
	\begin{prop}
	Given a sequence $a_n$, $S_a$ is closed.
	\end{prop}
	
	\begin{proof}
	To do this, we will fix a point $L \in \CR$ and suppose that there exists no $\varepsilon > 0$ such that $V_\varepsilon(L)$ is disjoint from $S_a$. In other words, for all $\varepsilon$ we have $V_\varepsilon(L)$ is not disjoint from $S_a$. We will conclude $L \in S_a$.
	
	Ergo, by counterreciprocal, for any $L \not \in S_a$ there exists $\varepsilon$ such that $V_\varepsilon(L)$ is disjoint from $S_a$; i.e. $S_a$ is closed.
	
	So, fix $L \in \CR$ in these conditions. We will construct explicitly a subsequence of $a_n$ that converges to $L$.
	
	First, fix any $i_1 \in \N$. Then, fixed $i_{n-1}$, construct $i_n$ as follows:
	
	Consider the $\frac 1 n$-neighbourhood of $L$. By hypothesis, there exists an element of $S_a$ in this neighbourhood. Let $\ell$ be such element, and let $a_{j_n}$ be a subsequence of $a_n$ that converges to $\ell$.
	
	Since $V_{\frac 1 n}(L)$ is open, there exists $\varepsilon$ such that $V_\varepsilon(\ell) \subseteq V_{\frac 1 n}(L)$. Since $a_{j_n} \rightarrow \ell$, we have that, for all big enough $N$, $a_{j_N} \in V_\varepsilon(\ell) \subseteq V_{\frac 1 n}(L)$. Define $i_n$ to be $j_N$, for some $N$ large enough that $j_N > i_{n-1}$.
	
	In this manner, we have constructed a sequence, $a_{i_n}$, that converges to $L$, as, fixed any $\varepsilon > 0$, we can pick $N \in \N$ such that $1/N < \varepsilon$ and therefore we will have that, for $n \geq N$, $a_{i_n} \in V_{\frac 1 n}(L) \subseteq V_{\frac 1 N}(L) \subseteq V_\varepsilon(L)$. Therefore, $L \in S_a$.
	\end{proof}
	
	\begin{prop}
	Fixed a sequence $a_n$, there exists a largest and a least sublimit.
	\end{prop}
	
	We will denote the largest sublimit of $a_n$ by $\varlimsup a_n$, and the least sublimit by $\varliminf a_n$.
	
	\subsection{Limit superior and limit inferior}
	
	Suppose we are interested in finding out the largest and the least sublimit of a sequence $a_n$. One possible way to try and guess at it is as follows:
	
	Suppose all elements of $a_n$ are less than or equal to $b_n$, where $b_n$ is some converging sequence. As such, if $a_{i_n}$ is a converging subsequence of $a_n$, we have $a_{i_n} \leq b_{i_n}$, and as the reader may easily check:
	
	\begin{prop}
	Any subsequence of a converging sequence converges to the same limit.
	\end{prop}
	
	\begin{prop}
	Suppose $a_n$ and $b_n$ converge to $A$ and $B$ respectively. If $a_n \leq b_n$ for all $n$, then $A \leq B$.
	\end{prop}
	
	And so, we conclude $\lim a_{i_n} \leq \lim b_n$. In particular, $\varlimsup a_n \leq \lim b_n$.
	
	As such, if we have some $b_n$ in these conditions, and find a subsequence of $a_n$ that converges towards $\lim b_n$, we must necessarily have this number be the largest sublimit of $a_n$.
	
	That raises an idea. For a basic estimate of $\varlimsup a_n$, we could try finding some sequence $b_n$, greater than $a_n$, that does converge. To assert convergence, perhaps requiring it to be monotone would make our life easier.
	
	After some mental gymnastics, one could potentially come up with the sequence $b_n = \sup_{k \geq n} a_k$. We certainly have $b_n \geq a_n$, and since the sequence is the supremum of a sequence of sets that are getting smaller and smaller, it's certainly decreasing, and therefore converges. We now have our first estimate:
	
	\[\varlimsup a_n \leq \lim \sup_{k \geq n} a_k\]
	
	Analogourly, for the least sublimit:
	
	\[\varliminf a_n \geq \lim \inf_{k \geq n} a_n\]
	
	These estimates are so important they deserve their own names, creatively denoted \emph{limit superior} ($\limsup a_n$) and \emph{limit inferior} ($\liminf a_n$).
	
	One last thing to notice is that, because of the way we showed convergence of monotone sequences, we have
	
	\[\limsup a_n = \inf_n \sup_{k \geq n} a_k \text{ and } \liminf a_n = \sup_n \inf_{k \geq n} a_k\]
	
	That is, we can write these estimates in terms of merely suprema and infima.
	
	\subsection{Oops}
	
	As it turns out, these estimates we just made are so good that we can replace the inequalities by equalities. That is:
	
	\begin{prop}
	\[\varlimsup a_n = \limsup a_n \text{ and } \varliminf a_n = \liminf a_n\]
	\end{prop}
	
	\begin{proof}
	We will do only the proof for the limit superior, as the other one is perfectly analogous.
	
	We already know $\varlimsup a_n \leq \limsup a_n$, so we need only find a subsequence of $a_n$ that converges towards $\limsup a_n$.
	
	Let $\lim \sup_{k \geq n} a_k = L$. For all $m$, there exists $N$ such that, for $n \geq N$, $\sup_{k \geq n} a_k \in V_{1/m}(L)$.
	
	Define $i_m$ as follows: fix any $i_0$. Defined $i_{m-1}$, let $n$ be some number greater than $i_{m-1}$ such that $\sup_{k \geq n} a_k \in V_{1/m}(L)$. By openness, there is a neighbourhood of $\sup_{k \geq n} a_k$ contained in $V_{1/m}(L)$; pick $i_m \geq n$ such that $a_{i_m}$ is in this neighbourhood. (It must exist because for any nonempty set there are elements arbitrarily close to the supremum.)
	
	For $i_n$ defined this way, we have that, for all $m \in N$, $a_{i_m} \in V_{1/m}(L)$, and hence $a_{i_m}$ converges to $L$, as we wished to show.
	\end{proof}
	
	

\end{document}